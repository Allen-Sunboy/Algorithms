# Homework3

软件13 杨楠

## 2

证明：数组P中，每个元素都有 $ n^3 $ 种取法，则整个数组的可能情况有 $ (n^3)^n $ 种。

而要使得这n个元素都唯一，相当于从这 $ n^3 $ 个数中取 $ n $ 排列，即有 $ A_{n^3}^n $ 种情况，从而所有元素都唯一的概率为

$$
\frac{A_{n^3}^n}{(n^3)^n} = \frac{n^3(n^3-1)(n^3-2)...(n^3-n+1)}{n^{3n}} = (1-\frac{1}{n^3})(1-\frac{2}{n^3})...(1-\frac{n-1}{n^3}) \tag{1}
$$

先证

$$
(1-\frac{x}{n^3})(1-\frac{y}{n^3}) > 1-\frac{x+y}{n^3} \tag{2}
$$

对于任意的 $ x, y > 0 $ 成立。

只需将左边展开，得

$$
LHS = 1 - \frac{x+y}{n^3} + \frac{xy}{n^6} > RHS
$$

从而(2)式成立，将其代入(1)式，有

$$
\begin{align*}
(1-\frac{1}{n^3})(1-\frac{2}{n^3})...(1-\frac{n-1}{n^3}) & > 1 - \frac{1+2+...+n-1}{n^3} \\
& > 1 - \frac{n(n-1)}{2n^3} = 1 - \frac{n-1}{2n^2} = 1 - \frac{1}{2n} + \frac{1}{2n^2} \\
& > 1 - \frac{1}{2n} \\
& > 1 - \frac{1}{n} \\
\end{align*}
$$